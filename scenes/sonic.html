<!DOCTYPE html>
<html>
  <head>
    <title>Sonic</title>
    <meta name="description" content="replaying cousins">
    <script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script>
    <script src="/components/grab.js"></script>
    <script src="/components/aabb-collider.js"></script>
    <script src="/components/custom-controls.js"></script>
    <script src="/components/motion-capture.js"></script>
    <script src="https://unpkg.com/aframe-joysticks-movement-component@0.1.2/dist/aframe-joysticks-movement-component.js"></script>
    <script src="https://unpkg.com/aframe-mirror-component/dist/aframe-mirror-component.min.js"></script> 
  </head>
  <body>
     <script>
      AFRAME.registerComponent('rotate-wheel', {
        init : function(){
          var animation = document.createElement("a-animation"); animation.setAttribute("attribute","rotation"); animation.setAttribute("to", "360 0 0");
          animation.setAttribute("dur","1200");
          animation.setAttribute("repeat","indefinite");
          animation.setAttribute("easing","linear");
          this.el.appendChild(animation);
        }               
      });
      </script>
      <a-scene raycaster="far: 300; objects: [link];" cursor="rayOrigin: mouse">
         <a-link href="kay.html" position="47 -0.4 -153" rotation="0 0 0" scale="4 4 4" visible="false"></a-link>
          
         <a-link href="kay.html" position="181.67 30.718 -484.583" rotation="-0.003 -0.2 0" scale="4 4 4" visible="false"></a-link>
        
          <a-assets>
              <a-asset-item id="lily-head-gltf" src="/assets/sonic/lily-head.gltf"></a-asset-item>
              <a-asset-item id="caroline-head-gltf" src="/assets/sonic/caroline-head.gltf"></a-asset-item>
              <a-asset-item id="grace-head-gltf" src="/assets/sonic/grace-head.gltf"></a-asset-item>
              <a-asset-item id="car-gltf" src="/assets/sonic/car.gltf"></a-asset-item>
              <a-asset-item id="road-gltf" src="/assets/sonic/road.gltf"></a-asset-item>
              <a-asset-item id="wheel-gltf" src="/assets/sonic/wheel.gltf"></a-asset-item>
              <a-asset-item id="sign-gltf" src="/assets/sonic/sign.gltf"></a-asset-item>
              <a-asset-item id="sign2-gltf" src="/assets/sonic/sign2.gltf"></a-asset-item>       
          </a-assets>
          
         
          
          <a-entity camera look-controls wasd-controls="acceleration: 1000; fly: true"></a-entity>
        
          <a-entity id="car" gltf-model="#car-gltf" position="-1 -3 -7" rotation="-40 -150 0" scale="0.1 0.1 0.1" sound="src: /assets/sonic/cousin.mp3; autoplay: true; maxDistance:5; refDistance:5"> 
<!--            <a-entity camera position="0 60 0"  look-controls wasd-controls="acceleration: 1000"></a-entity>-->
              
            <a-animation attribute="position" from="-1 -3 -7" to="430 130 -900" dur="100000"></a-animation>
              
            <a-entity id="lily" class="avatar" position="2.648 60 18.124" rotation="-60 180 0">
                <a-entity id="lily-head" gltf-model="#lily-head-gltf" position="40  0" scale="0.2 0.2 0.2"></a-entity>
            </a-entity>
              
            <a-entity id="caroline" class="avatar" position="0 80 50" rotation="0 180 0">
                <a-entity id="caroline-head" gltf-model="#caroline-head-gltf" position="1.8 30 -5" scale="0.2 0.2 0.2"></a-entity>
            </a-entity>
          
            <a-entity id="grace" class="avatar" position="-20 40 0" rotation="-70 0 0">
                <a-entity id="grace-head" gltf-model="#grace-head-gltf" rotation="0 0 0" scale="0.2 0.2 0.2"></a-entity>
            </a-entity>
              
             <a-entity id="wheel1" gltf-model="#wheel-gltf"
             position="-2 -50 12" rotation="-0.7 0 0" rotate-wheel></a-entity>
             <a-entity id="wheel2" gltf-model="#wheel-gltf" position="-128.354 -50 9.705" rotation="-0.698 0 0" scale="0.9 0.9 0.9" rotate-wheel></a-entity>
             <a-entity id="wheel3" gltf-model="#wheel-gltf" position="-31 -50 66" rotation="0 0 0" scale="0.9 0.9 0.9" rotate-wheel></a-entity>
             <a-entity id="wheel4" gltf-model="#wheel-gltf" position="-90.664 0 -53.275" rotation="-1 0 0" scale="0.9 0.9 0.9" rotate-wheel></a-entity>
          </a-entity>
          
          <a-entity id="sign" gltf-model="#sign-gltf" position="80 -7 -200" rotation="-30 180 -30" scale="0.1 0.1 0.1"></a-entity>
          
          <a-entity id="sign2" gltf-model="#sign2-gltf" position="180 30 -500" rotation="-90 0 0" scale="0.3 0.3 0.3"></a-entity>
          
          <a-entity id="road" gltf-model="#road-gltf" position="-270 -4 60.463" rotation="-50 0 -30" scale="0.8 2 0.8"></a-entity>
          
          <a-sky color="#e0fff0"></a-sky>
      </a-scene>
  </body>
</html>